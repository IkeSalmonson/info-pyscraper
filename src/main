import asyncio
from scraper import aiomultiprocess_main , asyncio_main
from info_parser import format_input
import sys 

import logging


logging.config.fileConfig('config/logger.conf', disable_existing_loggers=False)
_logger = logging.getLogger(__name__)

 
if __name__ == '__main__': 
    _logger.info("Initializing scrapper")

    input_string = sys.stdin.read()
    #print('input_string ',input_string)  

    scrape_urls , not_url = format_input(input_string)   
    #print('scrape_urls', scrape_urls) 

    ## Development aux function: asyncio_main()
    url_infos = asyncio.run(asyncio_main(scrape_urls))

    ## More perfomance: aiomultiproces
    #url_infos = asyncio.run(aiomultiprocess_main(scrape_urls))

    #print('info_list' , info_list)


    print('\n end of compose_app')
    sys.exit(0)
    